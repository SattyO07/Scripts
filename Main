-- Values
local PlayerCount = "0/0"
local plrs = game.Players
local playerNames = {}
local GameName = game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name

-- service
local RunService = game:GetService("RunService")

-- Function to update player names
local function updatePlayerNames()
    playerNames = {}
    for _, player in ipairs(plrs:GetPlayers()) do
        table.insert(playerNames, player.Name)
    end
end

spawn(updatePlayerNames)

-- Fps
local UpdateFps = 0
local LastTime = tick()

RunService.RenderStepped:Connect(function()
    local DeltaTime = tick() - LastTime
    LastTime = tick()

    UpdateFps = math.floor(1 / DeltaTime)
end)

-- Update player count
local function updatePlayerCount()
    local currentPlayerCount = #plrs:GetPlayers()
    local maxPlayerCount = game.Players.MaxPlayers

    PlayerCount = currentPlayerCount .. "/" .. maxPlayerCount
end

-- Library
local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/Unknownkellymc1/Orion/main/source')))()

-- Window
local Window = OrionLib:MakeWindow({Name = "Reaper Hub : [" .. GameName .. "]", HidePremium = false, SaveConfig = false, ConfigFolder = "ReaperSaved"})

-- Tabs
local Tab1 = Window:MakeTab({Name = "Universal", Icon = "rbxassetid://7733954760", PremiumOnly = false})
local Tab2 = Window:MakeTab({Name = "Scripts", Icon = "rbxassetid://8997388036", PremiumOnly = false})
local Tab3 = Window:MakeTab({Name = "Info", Icon = "rbxassetid://7733964719", PremiumOnly = false})

-- [universal]--
local Character = Tab1:AddSection({
    Name = "Character:"
})

Tab1:AddButton({
    Name = "Reset Character",
    Callback = function()
        local player = game.Players.LocalPlayer
        local character = player.Character

        if character then
            character:BreakJoints()
        end
    end
})

spawn(updateStats)
updatePlayerNames()
local players = Tab1:AddSection({
    Name = "Players:"
})

local selectPlayers = Tab1:AddDropdown({
    Name = "Players",
    Default = "No Players",
    Options = playerNames,
    Callback = function(selectedplrName)
        selectedPlayer = plrs:FindFirstChild(selectedplrName)
        teleportButton:SetEnabled(true)
    end
})

local teleportButton 
teleportButton = Tab1:AddButton({
    Name = "Teleport",
    Enabled = false,
    Callback = function()
        if selectedPlayer and selectedPlayer.Character and selectedPlayer.Character:FindFirstChild("HumanoidRootPart") then
            local targetPosition = selectedPlayer.Character.HumanoidRootPart.Position
            local localPlayerRoot = plrs.LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            
            if localPlayerRoot then
                localPlayerRoot.CFrame = CFrame.new(targetPosition)
            end
        end
    end
})

local copyUsernameButton = Tab1:AddButton({
    Name = "Copy Username",
    Callback = function()
        if selectedPlayer then
            setclipboard(selectedPlayer.Name)
        end
    end
})

local copyUserIdButton = Tab1:AddButton({
    Name = "Copy User ID",
    Callback = function()
        if selectedPlayer then
            setclipboard(tostring(selectedPlayer.UserId))
        end
    end
})

-- [Scripts]--
local ToolGui = Tab2:AddSection({
    Name = "Tools Gui:"
})

Tab2:AddButton({
    Name = "Infinite Yield",
    Callback = function() loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
    end    
})

Tab2:AddButton({
    Name = "Dex v4",
    Callback = function()
        getgenv().Key = "Bash"
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Hosvile/Refinement/main/MC%3AIY%20Dex",true))()
    end    
})

Tab2:AddButton({
    Name = "Remote Spy",
    Callback = function() loadstring(game:HttpGet("https://raw.githubusercontent.com/REDzHUB/RS/main/SimpleSpyMobile"))()
    end    
})

local WithGui = Tab2:AddSection({
    Name = "With Guis:"
})

Tab2:AddButton({
    Name = "Yarhn Hub",
    Callback = function() 
loadstring(game:HttpGet("https://raw.githubusercontent.com/Joystickplays/psychic-octo-invention/main/yarhm.lua", false))()
    end    
})

Tab2:AddButton({
    Name = "Fling Gui (Stoled Edition)",
    Callback = function() loadstring(game:HttpGet("https://raw.githubusercontent.com/SattyO07/Scripts/main/Fling%20Gui"))()
    end    
})

local Nogui = Tab2:AddSection({
    Name = "No Gui:"
})

Tab2:AddButton({
    Name = "AntiFling",
    Callback = function() 
loadstring(game:HttpGet("https://raw.githubusercontent.com/SattyO07/Scripts/main/AntiFling", false))()
    end    
})


-- [Info]--
local Statistic = Tab3:AddSection({
       Name = "Statistic:"
})
local FpsLabel = Tab3:AddLabel("Fps: " .. UpdateFps)
local CountPlayerLabel = Tab3:AddLabel("Players: " .. PlayerCount)

local SpecialThx = Tab3:AddSection({
       Name = "Library:"
})

Tab3:AddParagraph("Orion Library:","Orion Team")
Tab3:AddParagraph("Mobile support:","Unknownkellymc1")

-- Loop
while wait() do
    updatePlayerNames()
    updatePlayerCount()

    FpsLabel:Set("FPS: " .. UpdateFps)
    wait(0.1)
    CountPlayerLabel:Set("Player Count: " .. PlayerCount)
    wait(0.1)
end